{"remainingRequest":"C:\\Users\\hpaci\\Desktop\\timesheet-vue-front-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\hpaci\\Desktop\\timesheet-vue-front-master\\src\\components\\CategoriesWithProjects.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\hpaci\\Desktop\\timesheet-vue-front-master\\src\\components\\CategoriesWithProjects.vue","mtime":1589439887178},{"path":"C:\\Users\\hpaci\\Desktop\\timesheet-vue-front-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\hpaci\\Desktop\\timesheet-vue-front-master\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\hpaci\\Desktop\\timesheet-vue-front-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\hpaci\\Desktop\\timesheet-vue-front-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\hpaci\\Desktop\\timesheet-vue-front-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAiY2F0ZWdvcmllcy13aXRoLXByb2plY3RzIiwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgImNhdGVnb3JpZXNXaXRoUHJvamVjdHMiOiB7fSwKICAgICAgICAgICAgImNhdGVnb3JpZXMiOiBuZXcgQXJyYXkoKSwKICAgICAgICAgICAgInByb2plY3RTZWxlY3RlZEluQ2F0ZWdvcnkiOiBuZXcgQXJyYXkoKSwKICAgICAgICAgICAgIm9iamVjdGl2ZXMiOiB7fSwKICAgICAgICAgICAgIm9iamVjdGl2ZUlkIjogMAogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgb25DaGFuZ2VQcm9qZWN0OmZ1bmN0aW9uKGNhdGVnb3J5SW5kZXgsIGV2ZW50KXsKICAgICAgICAgICAgZm9yICh2YXIgY2F0ZWdvcnlJZCBpbiB0aGlzLnByb2plY3RTZWxlY3RlZEluQ2F0ZWdvcnkpIHsKICAgICAgICAgICAgICAgIHRoaXMucHJvamVjdFNlbGVjdGVkSW5DYXRlZ29yeVtjYXRlZ29yeUlkXSA9ICswOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IGFQcm9qZWN0SWQgPSArZXZlbnQudGFyZ2V0LnZhbHVlOwogICAgICAgICAgICB0aGlzLnByb2plY3RTZWxlY3RlZEluQ2F0ZWdvcnlbY2F0ZWdvcnlJbmRleF0gPSBhUHJvamVjdElkOwogICAgICAgICAgICB0aGlzLiRlbWl0KCdwcmotc2VsZWN0ZWQnLCB0aGlzLnByb2plY3RTZWxlY3RlZEluQ2F0ZWdvcnkpOwogICAgICAgIH0sCiAgICAgICAgb25DaGFuZ2VPYmplY3RpdmU6ZnVuY3Rpb24oZXZlbnQpewogICAgICAgICAgICBjb25zdCB0aGVPYmplY3RpdmVJZCA9ICtldmVudC50YXJnZXQudmFsdWU7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ29iai1zZWxlY3RlZCcsIHRoZU9iamVjdGl2ZUlkKTsKICAgICAgICB9LAogICAgfSwKICAgIGNyZWF0ZWQ6IGZ1bmN0aW9uKCkgewogICAgICAgIC8vIHRoaXMgd2lsbCBvbmx5IHdvcmsgd2hlbiBhIHNlcnZlZCBmcm9tIGEgd2Vic2VydmVyCiAgICAgICAgbGV0IHVybCA9ICdodHRwOi8vbG9jYWxob3N0OjgwODAvdGltZXNoZWV0cmVzdC9jYXRlZ29yaWVzV2l0aFByb2plY3RzJwoKICAgICAgICBheGlvcy5nZXQodXJsLCB7IHdpdGhDcmVkZW50aWFsczogdHJ1ZSB9KQogICAgICAgICAgICAudGhlbiggKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiY2F0ZWdvcmllc1dpdGhQcm9qZWN0cyIpCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5zdGF0dXMpCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICAgIHRoaXMuY2F0ZWdvcmllc1dpdGhQcm9qZWN0cyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICBmb3IgKCBsZXQgY2F0ZWdvcnlJZCBpbiB0aGlzLmNhdGVnb3JpZXNXaXRoUHJvamVjdHMgKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXRlZ29yaWVzLnB1c2goY2F0ZWdvcnlJZCk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9qZWN0U2VsZWN0ZWRJbkNhdGVnb3J5LnB1c2goMCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwoKICAgICAgICB1cmwgPSAnaHR0cDovL2xvY2FsaG9zdDo4MDgwL3RpbWVzaGVldHJlc3Qvb2JqZWN0aXZlcycKCiAgICAgICAgYXhpb3MuZ2V0KHVybCwgeyB3aXRoQ3JlZGVudGlhbHM6IHRydWUgfSkKICAgICAgICAgICAgLnRoZW4oIChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIm9iamVjdGl2ZXMiKQogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2Uuc3RhdHVzKQogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgICB0aGlzLm9iamVjdGl2ZXMgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICB9KTsKICAgIH0KfQo="},{"version":3,"sources":["CategoriesWithProjects.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CategoriesWithProjects.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div id=\"categorieswithprojects\">\n        <div class=\"well\">\n            <!-- OVHD, NETW, PROSP, FULF, REND, TRAVEL -->\n\n            <span v-for=\"(category, categoryIndex) in this.categoriesWithProjects\" :key=\"categoryIndex\" class=\"category\">\n                <label >{{ categoryIndex }}</label> <br>\n                <select name=\"projectSelectedInCategory[]\" v-model=\"projectSelectedInCategory[categories.indexOf(categoryIndex)]\"\n                        @change=\"onChangeProject(categories.indexOf(categoryIndex),$event)\" >\n                    <option value=\"0\" selected=\"selected\"> No choice </option>\n                    <option v-for=\"(project, projectId) in category\" :key=\"projectId\"\n                            v-bind:value=\"project.id\" >{{ project.name }}</option>\n                </select>&nbsp;\n            </span>\n            <span class=\"category\"><label>Strategic objective</label><br>\n                <select id=\"objectiveId\" name=\"objectiveId\" v-model=\"objectiveId\"\n                        @change=\"onChangeObjective($event)\" >\n                    <option value=\"0\" selected=\"selected\"> No choice </option>\n                    <option v-for=\"(objective, objectiveId) in objectives\" :key=\"objectiveId\"\n                            v-bind:value=\"objective.id\">{{ objective.name }}</option>\n                </select>\n            </span>\n        </div>\n\n    </div>\n</template>\n\n<script>\n    import axios from \"axios\";\n\n    export default {\n        name: \"categories-with-projects\",\n        data() {\n            return {\n                \"categoriesWithProjects\": {},\n                \"categories\": new Array(),\n                \"projectSelectedInCategory\": new Array(),\n                \"objectives\": {},\n                \"objectiveId\": 0\n            }\n        },\n        methods: {\n            onChangeProject:function(categoryIndex, event){\n                for (var categoryId in this.projectSelectedInCategory) {\n                    this.projectSelectedInCategory[categoryId] = +0;\n                }\n                const aProjectId = +event.target.value;\n                this.projectSelectedInCategory[categoryIndex] = aProjectId;\n                this.$emit('prj-selected', this.projectSelectedInCategory);\n            },\n            onChangeObjective:function(event){\n                const theObjectiveId = +event.target.value;\n                this.$emit('obj-selected', theObjectiveId);\n            },\n        },\n        created: function() {\n            // this will only work when a served from a webserver\n            let url = 'http://localhost:8080/timesheetrest/categoriesWithProjects'\n\n            axios.get(url, { withCredentials: true })\n                .then( (response) => {\n                    console.log(\"categoriesWithProjects\")\n                    console.log(response.status)\n                    console.log(response.data);\n                    this.categoriesWithProjects = response.data;\n                    for ( let categoryId in this.categoriesWithProjects ) {\n                        this.categories.push(categoryId);\n                        this.projectSelectedInCategory.push(0);\n                    }\n                });\n\n            url = 'http://localhost:8080/timesheetrest/objectives'\n\n            axios.get(url, { withCredentials: true })\n                .then( (response) => {\n                    console.log(\"objectives\")\n                    console.log(response.status)\n                    console.log(response.data);\n                    this.objectives = response.data;\n                });\n        }\n    }\n</script>\n\n<style scoped>\n    select, label {\n        margin-left: 0.5em;\n    }\n</style>"]}]}