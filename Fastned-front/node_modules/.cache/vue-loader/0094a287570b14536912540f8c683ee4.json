{"remainingRequest":"C:\\Users\\hpaci\\Desktop\\timesheet-vue-front-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\hpaci\\Desktop\\timesheet-vue-front-master\\src\\components\\CategoriesWithProjects.vue?vue&type=style&index=0&id=39469fcc&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\hpaci\\Desktop\\timesheet-vue-front-master\\src\\components\\CategoriesWithProjects.vue","mtime":1589439887178},{"path":"C:\\Users\\hpaci\\Desktop\\timesheet-vue-front-master\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\hpaci\\Desktop\\timesheet-vue-front-master\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\hpaci\\Desktop\\timesheet-vue-front-master\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\hpaci\\Desktop\\timesheet-vue-front-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\hpaci\\Desktop\\timesheet-vue-front-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCnNlbGVjdCwgbGFiZWwgewogICAgbWFyZ2luLWxlZnQ6IDAuNWVtOwp9Cg=="},{"version":3,"sources":["CategoriesWithProjects.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqFA;AACA;AACA","file":"CategoriesWithProjects.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div id=\"categorieswithprojects\">\n        <div class=\"well\">\n            <!-- OVHD, NETW, PROSP, FULF, REND, TRAVEL -->\n\n            <span v-for=\"(category, categoryIndex) in this.categoriesWithProjects\" :key=\"categoryIndex\" class=\"category\">\n                <label >{{ categoryIndex }}</label> <br>\n                <select name=\"projectSelectedInCategory[]\" v-model=\"projectSelectedInCategory[categories.indexOf(categoryIndex)]\"\n                        @change=\"onChangeProject(categories.indexOf(categoryIndex),$event)\" >\n                    <option value=\"0\" selected=\"selected\"> No choice </option>\n                    <option v-for=\"(project, projectId) in category\" :key=\"projectId\"\n                            v-bind:value=\"project.id\" >{{ project.name }}</option>\n                </select>&nbsp;\n            </span>\n            <span class=\"category\"><label>Strategic objective</label><br>\n                <select id=\"objectiveId\" name=\"objectiveId\" v-model=\"objectiveId\"\n                        @change=\"onChangeObjective($event)\" >\n                    <option value=\"0\" selected=\"selected\"> No choice </option>\n                    <option v-for=\"(objective, objectiveId) in objectives\" :key=\"objectiveId\"\n                            v-bind:value=\"objective.id\">{{ objective.name }}</option>\n                </select>\n            </span>\n        </div>\n\n    </div>\n</template>\n\n<script>\n    import axios from \"axios\";\n\n    export default {\n        name: \"categories-with-projects\",\n        data() {\n            return {\n                \"categoriesWithProjects\": {},\n                \"categories\": new Array(),\n                \"projectSelectedInCategory\": new Array(),\n                \"objectives\": {},\n                \"objectiveId\": 0\n            }\n        },\n        methods: {\n            onChangeProject:function(categoryIndex, event){\n                for (var categoryId in this.projectSelectedInCategory) {\n                    this.projectSelectedInCategory[categoryId] = +0;\n                }\n                const aProjectId = +event.target.value;\n                this.projectSelectedInCategory[categoryIndex] = aProjectId;\n                this.$emit('prj-selected', this.projectSelectedInCategory);\n            },\n            onChangeObjective:function(event){\n                const theObjectiveId = +event.target.value;\n                this.$emit('obj-selected', theObjectiveId);\n            },\n        },\n        created: function() {\n            // this will only work when a served from a webserver\n            let url = 'http://localhost:8080/timesheetrest/categoriesWithProjects'\n\n            axios.get(url, { withCredentials: true })\n                .then( (response) => {\n                    console.log(\"categoriesWithProjects\")\n                    console.log(response.status)\n                    console.log(response.data);\n                    this.categoriesWithProjects = response.data;\n                    for ( let categoryId in this.categoriesWithProjects ) {\n                        this.categories.push(categoryId);\n                        this.projectSelectedInCategory.push(0);\n                    }\n                });\n\n            url = 'http://localhost:8080/timesheetrest/objectives'\n\n            axios.get(url, { withCredentials: true })\n                .then( (response) => {\n                    console.log(\"objectives\")\n                    console.log(response.status)\n                    console.log(response.data);\n                    this.objectives = response.data;\n                });\n        }\n    }\n</script>\n\n<style scoped>\n    select, label {\n        margin-left: 0.5em;\n    }\n</style>"]}]}